"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("tslib");var a=require("antd-mobile");var t=e(require("prop-types"));var c=require("react");var i=e(c);var n=require("react-formutil");var o=a.List.Item;var s=1;var l=function(e){s=e};var u=a.Switch.name!=="Switch";function v(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(u){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var d=u?a.Checkbox:"Checkbox";var f=u?a.Radio:"Radio";var m=u?a.PickerView:"PickerView";var p=u?a.DatePicker:"DatePicker";var h=u?a.Switch:"Switch";var b=u?a.Range:"Range";var k=u?a.Picker:"Picker";var y=u?a.ImagePicker:"ImagePicker";var _=u?a.InputItem:"InputItem";var g=u?a.TextareaItem:"TextareaItem";var P=u?a.Slider:"Slider";var E=u?a.Checkbox.CheckboxItem:"CheckboxItem";var I=u?a.Radio.RadioItem:"RadioItem";var x=u?a.Checkbox.AgreeItem:"AgreeItem";var C=function(e){r.__extends(l,e);function l(){return e!==null&&e.apply(this,arguments)||this}l.prototype.render=function(){var e=this.props;var t=e,l=t.children,u=t.className,C=t.label,w=t.errorLevel,T=w===void 0?s:w,j=r.__rest(t,["children","className","label","errorLevel"]);var N=c.Children.only(l);var R=v(N);switch(R){case d:case f:case h:case E:case I:case x:j.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":j.__TYPE__=R;break;default:j.__TYPE__="empty";break}return i.createElement(n.EasyField,r.__assign({},j,{passUtil:"$fieldutil",children:function(t){var n,s;var l=e.valuePropName,v=l===void 0?"value":l,w=e.changePropName,j=w===void 0?"onChange":w,$=e.focusPropName,q=$===void 0?"onFocus":$,O=e.blurPropName,S=O===void 0?"onBlur":O;var L=t.$fieldutil,F=j,Y=t[F],A=q,B=t[A],D=S,M=t[D],V=v,U=t[V],z=r.__rest(t,["$fieldutil",typeof F==="symbol"?F:F+"",typeof A==="symbol"?A:A+"",typeof D==="symbol"?D:D+"",typeof V==="symbol"?V:V+""]);var G=L.$invalid,H=L.$dirty,J=L.$touched,K=L.$getFirstError,Q=L.$focused;var W;switch(R){case d:case f:case h:case E:case I:case x:case"checked":var X=e.checked,Z=X===void 0?true:X,ee=e.unchecked,re=ee===void 0?false:ee;W={checked:U===Z,onChange:function(e){var r=e&&e.target?e.target.checked:e;Y(r?Z:re,e)}};break;case y:W={onChange:Y,files:U};break;default:W=(n={},n[j]=Y,n[v]=U,n);break}Object.assign(W,(s={},s[q]=B,s[S]=M,s));var ae;switch(T){case 0:ae=G&&H&&J;break;case 1:ae=G&&H;break;case 2:ae=G;break;default:ae=false;break}var te={invalid:G,valid:!G,dirty:H,pristine:!H,touched:J,untouched:!J,focused:Q};z.className=Object.keys(te).filter(function(e){return te[e]}).map(function(e){return"antm-formutil-"+e}).concat(u).filter(Boolean).join(" ");var ce=ae?{error:true}:{};switch(R){case _:case g:ce.onErrorClick=function(){a.Modal.alert("Error info",K())};case E:case I:case x:case b:case P:case m:return c.cloneElement(N,r.__assign({},z,ce,W,{title:C,children:C}));case p:case k:return c.cloneElement(N,r.__assign({},W,{children:i.createElement(o,r.__assign({},z,ce),C)}));default:var ie=c.cloneElement(N,W);return C?i.createElement(o,r.__assign({},z,ce,{extra:ie}),C):i.createElement(o,r.__assign({},z,ce),ie)}}}))};l.propTypes=r.__assign({},o.propTypes,{label:t.any,errorLevel:t.oneOf([0,1,2,"off"]),children:t.element.isRequired});return l}(c.Component);Object.keys(n).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return n[e]}})});exports.FormItem=C;exports.setErrorLevel=l;
