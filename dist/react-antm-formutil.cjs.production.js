"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("tslib");var a=require("antd-mobile");var t=e(require("prop-types"));var n=require("react");var o=e(n);var c=require("react-formutil");var i=a.Checkbox.CheckboxItem;var s=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,n=a.value,c=a.onFocus,s=a.onBlur,u=a.data;var l=function(e,r){var a=r.target.checked;t(a?n.concat(e):n.filter(function(r){return r!==e}))};return u.map(function(a){return o.createElement(i,r.__assign({key:a.value},a,{checked:n.indexOf(a.value)>-1,children:a.title,onChange:l.bind(e,a.value),onFocus:c,onBlur:s}))})};a.propTypes={onChange:t.func,onFocus:t.func,onBlur:t.func,value:t.array};a.defaultProps={value:[]};return a}(n.Component);var u=a.Radio.RadioItem;var l=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,n=a.value,c=a.onFocus,i=a.onBlur,s=a.data;var l=function(e){t(e)};return s.map(function(a){return o.createElement(u,r.__assign({key:a.value},a,{checked:n===a.value,children:a.title,onChange:l.bind(e,a.value),onFocus:c,onBlur:i}))})};a.propTypes={onChange:t.func,onFocus:t.func,onBlur:t.func,value:t.any};return a}(n.Component);var v=a.List.Item;var p=1;var d=function(e){p=e};var f=a.Switch.name!=="Switch";function h(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(f){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var m=f?a.Checkbox:"Checkbox";var y=f?a.Radio:"Radio";var k=f?a.PickerView:"PickerView";var _=f?a.DatePicker:"DatePicker";var b=f?a.Switch:"Switch";var g=f?a.Range:"Range";var C=f?a.Picker:"Picker";var x=f?a.ImagePicker:"ImagePicker";var E=f?a.InputItem:"InputItem";var I=f?a.TextareaItem:"TextareaItem";var P=f?a.Slider:"Slider";var R=f?a.Checkbox.CheckboxItem:"CheckboxItem";var T=f?a.Radio.RadioItem:"RadioItem";var w=f?a.Checkbox.AgreeItem:"AgreeItem";var F=f?s:"CheckboxGroup";var j=f?l:"RadioGroup";var B=function(e){r.__extends(i,e);function i(){return e!==null&&e.apply(this,arguments)||this}i.prototype.render=function(){var e=this.props;var t=e,i=t.children,s=t.className,u=t.label,l=t.errorLevel,d=l===void 0?p:l,f=r.__rest(t,["children","className","label","errorLevel"]);var B=n.Children.only(i);var N=h(B);switch(N){case m:case y:case b:case R:case T:case w:f.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":f.__TYPE__=N;break;default:f.__TYPE__="empty";break}return o.createElement(c.EasyField,r.__assign({},f,{passUtil:"$fieldutil",children:function(t){var c,i;var l=e.valuePropName,p=l===void 0?"value":l,f=e.changePropName,h=f===void 0?"onChange":f,$=e.focusPropName,O=$===void 0?"onFocus":$,q=e.blurPropName,S=q===void 0?"onBlur":q;var L=t.$fieldutil,G=h,Y=t[G],A=O,D=t[A],M=S,V=t[M],U=p,z=t[U],H=r.__rest(t,["$fieldutil",typeof G==="symbol"?G:G+"",typeof A==="symbol"?A:A+"",typeof M==="symbol"?M:M+"",typeof U==="symbol"?U:U+""]);var J=L.$invalid,K=L.$dirty,Q=L.$touched,W=L.$getFirstError,X=L.$focused;var Z;switch(N){case m:case y:case b:case R:case T:case w:case"checked":var ee=e.checked,re=ee===void 0?true:ee,ae=e.unchecked,te=ae===void 0?false:ae;Z={checked:z===re,onChange:function(e){var r=e&&e.target?e.target.checked:e;Y(r?re:te,e)}};break;case x:Z={onChange:Y,files:z};break;default:Z=(c={},c[h]=Y,c[p]=z,c);break}Object.assign(Z,(i={},i[O]=D,i[S]=V,i));var ne;switch(d){case 0:ne=J&&K&&Q;break;case 1:ne=J&&K;break;case 2:ne=J;break;default:ne=false;break}var oe={invalid:J,valid:!J,dirty:K,pristine:!K,touched:Q,untouched:!Q,focused:X};H.className=Object.keys(oe).filter(function(e){return oe[e]}).map(function(e){return"antm-formutil-"+e}).concat(s).filter(Boolean).join(" ");var ce=ne?{error:true}:{};switch(N){case E:case I:ce.onErrorClick=function(){a.Modal.alert("Error info",W())};case R:case T:case w:case g:case P:case k:return n.cloneElement(B,r.__assign({},H,ce,Z,{title:u,children:u}));case _:case C:return n.cloneElement(B,r.__assign({},Z,{children:o.createElement(v,r.__assign({},H,ce),u)}));case F:case j:return n.cloneElement(B,Z);default:var ie=n.cloneElement(B,Z);return u?o.createElement(v,r.__assign({},H,ce,{extra:ie}),u):o.createElement(v,r.__assign({},H,ce),ie)}}}))};i.propTypes=r.__assign({},v.propTypes,{label:t.any,errorLevel:t.oneOf([0,1,2,"off"]),children:t.element.isRequired});return i}(n.Component);Object.keys(c).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return c[e]}})});exports.CheckboxGroup=s;exports.FormItem=B;exports.RadioGroup=l;exports.setErrorLevel=d;
