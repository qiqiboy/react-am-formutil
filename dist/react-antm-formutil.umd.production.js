!function(e,t){"object"===typeof exports&&"undefined"!==typeof module?t(exports,require("antd-mobile"),require("prop-types"),require("react"),require("react-formutil")):"function"===typeof define&&define.amd?define(["exports","antd-mobile","prop-types","react","react-formutil"],t):t((e=e||self).ReactAntmFormutil={},e.AntdMobile,e.PropTypes,e.React,e.ReactFormutil)}(this,function(e,t,r,o,n){"use strict";r=r&&r.hasOwnProperty("default")?r.default:r;var a="default"in o?o.default:o,c=function(e,t){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};var i=function(){return(i=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function l(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(r[o[n]]=e[o[n]])}return r}var s=t.List.Item,u=1,f="Switch"!==t.Switch.name;var p=f?t.Checkbox:"Checkbox",d=f?t.Radio:"Radio",m=f?t.PickerView:"PickerView",y=f?t.DatePicker:"DatePicker",h=f?t.Switch:"Switch",b=f?t.Range:"Range",v=f?t.Picker:"Picker",k=f?t.ImagePicker:"ImagePicker",P=f?t.InputItem:"InputItem",O=f?t.TextareaItem:"TextareaItem",_=f?t.Slider:"Slider",g=f?t.Checkbox.CheckboxItem:"CheckboxItem",w=f?t.Radio.RadioItem:"RadioItem",E=f?t.Checkbox.AgreeItem:"AgreeItem",I=function(e){function I(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function r(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}(I,e),I.prototype.render=function(){var e=this.props,r=e,c=r.children,I=r.className,j=r.label,x=r.errorLevel,C=void 0===x?u:x,R=l(r,["children","className","label","errorLevel"]),T=o.Children.only(c),N=function(e){if(e){if("function"===typeof e.type){var t=e.type;return t.formutilType?t.formutilType:f?t:t.displayName||t.name}return e.props.type||e.type}}(T);switch(N){case p:case d:case h:case g:case w:case E:R.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":R.__TYPE__=N;break;default:R.__TYPE__="empty"}return a.createElement(n.EasyField,i({},R,{passUtil:"$fieldutil",children:function(r){var n,c,u,f,x=e.valuePropName,R=void 0===x?"value":x,S=e.changePropName,$=void 0===S?"onChange":S,F=e.focusPropName,q=void 0===F?"onFocus":F,A=e.blurPropName,L=void 0===A?"onBlur":A,M=r.$fieldutil,Y=$,B=r[Y],D=q,V=r[D],U=L,z=r[U],G=R,H=r[G],J=l(r,["$fieldutil","symbol"===typeof Y?Y:Y+"","symbol"===typeof D?D:D+"","symbol"===typeof U?U:U+"","symbol"===typeof G?G:G+""]),K=M.$invalid,Q=M.$dirty,W=M.$touched,X=M.$getFirstError,Z=M.$focused;switch(N){case p:case d:case h:case g:case w:case E:case"checked":var ee=e.checked,te=void 0===ee||ee,re=e.unchecked,oe=void 0!==re&&re;u={checked:H===te,onChange:function(e){var t=e&&e.target?e.target.checked:e;B(t?te:oe,e)}};break;case k:u={onChange:B,files:H};break;default:(n={})[$]=B,n[R]=H,u=n}switch(Object.assign(u,((c={})[q]=V,c[L]=z,c)),C){case 0:f=K&&Q&&W;break;case 1:f=K&&Q;break;case 2:f=K;break;default:f=!1}var ne={invalid:K,valid:!K,dirty:Q,pristine:!Q,touched:W,untouched:!W,focused:Z};J.className=Object.keys(ne).filter(function(e){return ne[e]}).map(function(e){return"antm-formutil-"+e}).concat(I).filter(Boolean).join(" ");var ae=f?{error:!0}:{};switch(N){case P:case O:ae.onErrorClick=function(){t.Modal.alert("Error info",X())};case g:case w:case E:case b:case _:case m:return o.cloneElement(T,i({},J,ae,u,{title:j,children:j}));case y:case v:return o.cloneElement(T,i({},u,{children:a.createElement(s,i({},J,ae),j)}));default:var ce=o.cloneElement(T,u);return j?a.createElement(s,i({},J,ae,{extra:ce}),j):a.createElement(s,i({},J,ae),ce)}}}))},I.propTypes=i({},s.propTypes,{label:r.any,errorLevel:r.oneOf([0,1,2,"off"]),children:r.element.isRequired}),I}(o.Component);Object.keys(n).forEach(function(t){Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})}),e.FormItem=I,e.setErrorLevel=function(e){u=e},Object.defineProperty(e,"__esModule",{value:!0})});
