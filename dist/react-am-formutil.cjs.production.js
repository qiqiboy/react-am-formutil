"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("tslib");var a=require("antd-mobile");var t=require("react");var n=e(t);var o=require("react-formutil");var c=a.Checkbox.CheckboxItem;var i=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,o=a.value,i=a.onFocus,s=a.onBlur,u=a.data,l=r.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e,r){var a=r.target.checked;t(a?o.concat(e):o.filter(function(r){return r!==e}))};return u.map(function(a){return n.createElement(c,r.__assign({key:a.value},l,a,{checked:o.indexOf(a.value)>-1,children:a.title,onChange:d.bind(e,a.value),onFocus:i,onBlur:s}))})};a.propTypes=undefined;a.defaultProps={value:[]};return a}(t.Component);var s=a.Radio.RadioItem;var u=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,o=a.value,c=a.onFocus,i=a.onBlur,u=a.data,l=r.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e){t(e)};return u.map(function(a){return n.createElement(s,r.__assign({key:a.value},l,a,{checked:o===a.value,children:a.title,onChange:d.bind(e,a.value),onFocus:c,onBlur:i}))})};a.propTypes=undefined;return a}(t.Component);var l=a.List.Item;var d=1;var v=function(e){d=e};var p=a.Switch.name!=="Switch";function f(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(p){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var h=p?a.Checkbox:"Checkbox";var m=p?a.Radio:"Radio";var _=p?a.PickerView:"PickerView";var k=p?a.DatePicker:"DatePicker";var b=p?a.Switch:"Switch";var y=p?a.Range:"Range";var g=p?a.Picker:"Picker";var C=p?a.ImagePicker:"ImagePicker";var x=p?a.InputItem:"InputItem";var E=p?a.TextareaItem:"TextareaItem";var I=p?a.Slider:"Slider";var P=p?a.Checkbox.CheckboxItem:"CheckboxItem";var R=p?a.Radio.RadioItem:"RadioItem";var w=p?a.Checkbox.AgreeItem:"AgreeItem";var F=p?i:"CheckboxGroup";var T=p?u:"RadioGroup";var j=function(e){r.__extends(c,e);function c(){return e!==null&&e.apply(this,arguments)||this}c.prototype.render=function(){var e=this.props;var c=e,i=c.children,s=c.className,u=c.label,v=c.errorLevel,p=v===void 0?d:v,j=r.__rest(c,["children","className","label","errorLevel"]);var B=t.Children.only(i);var N=f(B);switch(N){case h:case m:case b:case P:case R:case w:j.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":j.__TYPE__=N;break;default:j.__TYPE__="empty";break}return n.createElement(o.EasyField,r.__assign({},j,{passUtil:"$fieldutil",children:function(o){var c,i;var d=e.valuePropName,v=d===void 0?"value":d,f=e.changePropName,j=f===void 0?"onChange":f,$=e.focusPropName,O=$===void 0?"onFocus":$,S=e.blurPropName,q=S===void 0?"onBlur":S;var G=o.$fieldutil,L=j,Y=o[L],A=O,D=o[A],M=q,V=o[M],U=v,z=o[U],H=r.__rest(o,["$fieldutil",typeof L==="symbol"?L:L+"",typeof A==="symbol"?A:A+"",typeof M==="symbol"?M:M+"",typeof U==="symbol"?U:U+""]);var J=G.$invalid,K=G.$dirty,Q=G.$touched,W=G.$getFirstError,X=G.$focused;var Z;switch(N){case h:case m:case b:case P:case R:case w:case"checked":var ee=e.checked,re=ee===void 0?true:ee,ae=e.unchecked,te=ae===void 0?false:ae;Z={checked:z===re,onChange:function(e){var r=e&&e.target?e.target.checked:e;Y(r?re:te,e)}};break;case C:Z={onChange:Y,files:z};break;default:Z=(c={},c[j]=Y,c[v]=z,c);break}Object.assign(Z,(i={},i[O]=D,i[q]=V,i));var ne;switch(p){case 0:ne=J&&K&&Q;break;case 1:ne=J&&K;break;case 2:ne=J;break;default:ne=false;break}var oe={invalid:J,valid:!J,dirty:K,pristine:!K,touched:Q,untouched:!Q,focused:X};H.className=Object.keys(oe).filter(function(e){return oe[e]}).map(function(e){return"am-formutil-"+e}).concat(s).filter(Boolean).join(" ");var ce=ne?{error:true}:{};switch(N){case x:case E:ce.onErrorClick=function(){a.Modal.alert("Error info",W())};case P:case R:case w:case y:case I:case _:return t.cloneElement(B,r.__assign({},H,ce,Z,{title:u,children:u}));case k:case g:return t.cloneElement(B,r.__assign({},Z,{children:n.createElement(l,r.__assign({},H,ce),u)}));case F:case T:return t.cloneElement(B,r.__assign({},H,ce,Z));default:var ie=t.cloneElement(B,Z);return n.createElement(l,r.__assign({},H,ce,u?{extra:ie,children:u}:{children:ie}))}}}))};c.propTypes=undefined;return c}(t.Component);Object.keys(o).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return o[e]}})});exports.CheckboxGroup=i;exports.FormItem=j;exports.RadioGroup=u;exports.setErrorLevel=v;
