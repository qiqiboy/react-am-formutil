"use strict";Object.defineProperty(exports,"__esModule",{value:true});function e(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var r=require("tslib");var a=require("antd-mobile");var t=require("react");var n=e(t);var o=require("react-formutil");var c=a.Checkbox.CheckboxItem;var i=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,o=a.value,i=a.onFocus,s=a.onBlur,u=a.data,l=r.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e,r){var a=r.target.checked;t(a?o.concat(e):o.filter(function(r){return r!==e}))};return u.map(function(a){return n.createElement(c,r.__assign({key:a.value},l,a,{checked:o.indexOf(a.value)>-1,children:a.title,onChange:d.bind(e,a.value),onFocus:i,onBlur:s}))})};a.propTypes=undefined;a.defaultProps={value:[]};return a}(t.Component);var s=a.Radio.RadioItem;var u=function(e){r.__extends(a,e);function a(){return e!==null&&e.apply(this,arguments)||this}a.prototype.render=function(){var e=this;var a=this.props,t=a.onChange,o=a.value,c=a.onFocus,i=a.onBlur,u=a.data,l=r.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e){t(e)};return u.map(function(a){return n.createElement(s,r.__assign({key:a.value},l,a,{checked:o===a.value,children:a.title,onChange:d.bind(e,a.value),onFocus:c,onBlur:i}))})};a.propTypes=undefined;return a}(t.Component);var l=a.List.Item;var d=1;var v=function(e){d=e};var p=a.Switch.name!=="Switch";function f(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(p){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var h=p?a.Checkbox:"Checkbox";var m=p?a.Radio:"Radio";var k=p?a.PickerView:"PickerView";var _=p?a.DatePickerView:"DatePickerView";var b=p?a.DatePicker:"DatePicker";var y=p?a.Switch:"Switch";var g=p?a.Range:"Range";var C=p?a.Picker:"Picker";var x=p?a.ImagePicker:"ImagePicker";var P=p?a.InputItem:"InputItem";var E=p?a.TextareaItem:"TextareaItem";var I=p?a.Slider:"Slider";var w=p?a.Checkbox.CheckboxItem:"CheckboxItem";var R=p?a.Radio.RadioItem:"RadioItem";var F=p?a.Checkbox.AgreeItem:"AgreeItem";var T=p?i:"CheckboxGroup";var j=p?u:"RadioGroup";var B=function(e){r.__extends(c,e);function c(){return e!==null&&e.apply(this,arguments)||this}c.prototype.render=function(){var e=this.props;var c=e,i=c.children,s=c.className,u=c.label,v=c.errorLevel,p=v===void 0?d:v,B=r.__rest(c,["children","className","label","errorLevel"]);var N=t.Children.only(i);var $=f(N);switch($){case h:case m:case y:case w:case R:case F:B.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":B.__TYPE__=$;break;default:B.__TYPE__="empty";break}return n.createElement(o.EasyField,r.__assign({},B,{passUtil:"$fieldutil",children:function(o){var c,i;var d=e.valuePropName,v=d===void 0?"value":d,f=e.changePropName,B=f===void 0?"onChange":f,O=e.focusPropName,S=O===void 0?"onFocus":O,q=e.blurPropName,D=q===void 0?"onBlur":q;var G=o.$fieldutil,L=B,V=o[L],Y=S,A=o[Y],M=D,U=o[M],z=v,H=o[z],J=r.__rest(o,["$fieldutil",typeof L==="symbol"?L:L+"",typeof Y==="symbol"?Y:Y+"",typeof M==="symbol"?M:M+"",typeof z==="symbol"?z:z+""]);var K=G.$invalid,Q=G.$dirty,W=G.$touched,X=G.$getFirstError,Z=G.$focused;var ee;switch($){case h:case m:case y:case w:case R:case F:case"checked":var re=e.checked,ae=re===void 0?true:re,te=e.unchecked,ne=te===void 0?false:te;ee={checked:H===ae,onChange:function(e){var r=e&&e.target?e.target.checked:e;V(r?ae:ne,e)}};break;case x:ee={onChange:V,files:H};break;default:ee=(c={},c[B]=V,c[v]=H,c);break}Object.assign(ee,(i={},i[S]=A,i[D]=U,i));var oe;switch(p){case 0:oe=K&&Q&&W;break;case 1:oe=K&&Q;break;case 2:oe=K;break;default:oe=false;break}var ce={invalid:K,valid:!K,dirty:Q,pristine:!Q,touched:W,untouched:!W,focused:Z};J.className=Object.keys(ce).filter(function(e){return ce[e]}).map(function(e){return"am-formutil-"+e}).concat(s).filter(Boolean).join(" ");var ie=oe?{error:true}:{};switch($){case P:case E:ie.onErrorClick=function(){a.Modal.alert("Error info",X())};case w:case R:case F:case g:case I:case k:case _:return t.cloneElement(N,r.__assign({},J,ie,ee,u?{title:u,children:u}:{}));case b:case C:return t.cloneElement(N,r.__assign({},ee,{children:n.createElement(l,r.__assign({},J,ie),u)}));case T:case j:return t.cloneElement(N,r.__assign({},J,ie,ee));default:var se=t.cloneElement(N,ee);return n.createElement(l,r.__assign({},J,ie,u?{extra:se,children:u}:{children:se}))}}}))};c.propTypes=undefined;return c}(t.Component);Object.keys(o).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return o[e]}})});exports.CheckboxGroup=i;exports.FormItem=B;exports.RadioGroup=u;exports.setErrorLevel=v;
