"use strict";Object.defineProperty(exports,"__esModule",{value:true});function _interopDefault(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var e=require("tslib");var r=require("antd-mobile");var a=require("react");var t=_interopDefault(a);var o=require("react-formutil");var n=r.Checkbox.CheckboxItem;var c=function(r){e.__extends(CheckboxGroup,r);function CheckboxGroup(){return r!==null&&r.apply(this,arguments)||this}CheckboxGroup.prototype.render=function(){var r=this;var a=this.props,o=a.onChange,c=a.value,i=a.onFocus,u=a.onBlur,s=a.data,l=e.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e,r){var a=r.target.checked;o(a?c.concat(e):c.filter(function(r){return r!==e}))};return s.map(function(a){return t.createElement(n,e.__assign({key:a.value},l,a,{checked:c.indexOf(a.value)>-1,children:a.title,onChange:d.bind(r,a.value),onFocus:i,onBlur:u}))})};CheckboxGroup.propTypes=undefined;CheckboxGroup.defaultProps={value:[]};return CheckboxGroup}(a.Component);var i=r.Radio.RadioItem;var u=function(r){e.__extends(RadioGroup,r);function RadioGroup(){return r!==null&&r.apply(this,arguments)||this}RadioGroup.prototype.render=function(){var r=this;var a=this.props,o=a.onChange,n=a.value,c=a.onFocus,u=a.onBlur,s=a.data,l=e.__rest(a,["onChange","value","onFocus","onBlur","data"]);var d=function(e){o(e)};return s.map(function(a){return t.createElement(i,e.__assign({key:a.value},l,a,{checked:n===a.value,children:a.title,onChange:d.bind(r,a.value),onFocus:c,onBlur:u}))})};RadioGroup.propTypes=undefined;return RadioGroup}(a.Component);var s=r.List.Item;var l=1;var d=function(e){l=e};var p=r.Switch.name!=="Switch";function getComponentType(e){if(e){if(typeof e.type==="function"){var r=e.type;if(r.formutilType){return r.formutilType}if(p){return r}return r.displayName||r.name}else{return e.props.type||e.type}}}var v=p?r.Checkbox:"Checkbox";var h=p?r.Radio:"Radio";var f=p?r.PickerView:"PickerView";var m=p?r.DatePickerView:"DatePickerView";var k=p?r.DatePicker:"DatePicker";var b=p?r.Switch:"Switch";var _=p?r.Range:"Range";var y=p?r.Picker:"Picker";var g=p?r.ImagePicker:"ImagePicker";var C=p?r.InputItem:"InputItem";var x=p?r.TextareaItem:"TextareaItem";var I=p?r.Slider:"Slider";var P=p?r.Checkbox.CheckboxItem:"CheckboxItem";var E=p?r.Radio.RadioItem:"RadioItem";var R=p?r.Checkbox.AgreeItem:"AgreeItem";var F=p?c:"CheckboxGroup";var G=p?u:"RadioGroup";var w=function(n){e.__extends(FormItem,n);function FormItem(){return n!==null&&n.apply(this,arguments)||this}FormItem.prototype.render=function(){var n=this.props;var c=n,i=c.children,u=c.className,d=c.label,p=c.errorLevel,w=p===void 0?l:p,T=e.__rest(c,["children","className","label","errorLevel"]);var j=a.Children.only(i);var B=getComponentType(j);switch(B){case v:case h:case b:case P:case E:case R:T.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":T.__TYPE__=B;break;default:T.__TYPE__="empty";break}return t.createElement(o.EasyField,e.__assign({},T,{passUtil:"$fieldutil",children:function(o){var c,i;var l=n.valuePropName,p=l===void 0?"value":l,T=n.changePropName,N=T===void 0?"onChange":T,$=n.focusPropName,D=$===void 0?"onFocus":$,O=n.blurPropName,S=O===void 0?"onBlur":O;var q=o.$fieldutil,L=N,V=o[L],Y=D,A=o[Y],M=S,U=o[M],z=p,H=o[z],J=e.__rest(o,["$fieldutil",typeof L==="symbol"?L:L+"",typeof Y==="symbol"?Y:Y+"",typeof M==="symbol"?M:M+"",typeof z==="symbol"?z:z+""]);var K=q.$invalid,Q=q.$dirty,W=q.$touched,X=q.$getFirstError,Z=q.$focused;var ee;switch(B){case v:case h:case b:case P:case E:case R:case"checked":var re=n.checked,ae=re===void 0?true:re,te=n.unchecked,oe=te===void 0?false:te;ee={checked:H===ae,onChange:function(e){var r=e&&e.target?e.target.checked:e;V(r?ae:oe,e)}};break;case g:ee={onChange:V,files:H};break;default:ee=(c={},c[N]=V,c[p]=H,c);break}Object.assign(ee,(i={},i[D]=A,i[S]=U,i));var ne;switch(w){case 0:ne=K&&Q&&W;break;case 1:ne=K&&Q;break;case 2:ne=K;break;default:ne=false;break}var ce={invalid:K,valid:!K,dirty:Q,pristine:!Q,touched:W,untouched:!W,focused:Z};J.className=Object.keys(ce).filter(function(e){return ce[e]}).map(function(e){return"am-formutil-"+e}).concat(u).filter(Boolean).join(" ");var ie=ne?{error:true}:{};switch(B){case C:case x:ie.onErrorClick=function(){r.Modal.alert("Error info",X())};case P:case E:case R:case _:case I:case f:case m:return a.cloneElement(j,e.__assign({},J,ie,ee,d?{title:d,children:d}:{}));case k:case y:return a.cloneElement(j,e.__assign({},ee,{children:t.createElement(s,e.__assign({},J,ie),d)}));case F:case G:return a.cloneElement(j,e.__assign({},J,ie,ee));default:var ue=a.cloneElement(j,ee);return t.createElement(s,e.__assign({},J,ie,d?{extra:ue,children:d}:{children:ue}))}}}))};FormItem.propTypes=undefined;return FormItem}(a.Component);Object.keys(o).forEach(function(e){Object.defineProperty(exports,e,{enumerable:true,get:function(){return o[e]}})});exports.CheckboxGroup=c;exports.FormItem=w;exports.RadioGroup=u;exports.setErrorLevel=d;
