!function(e,t){"object"===typeof exports&&"undefined"!==typeof module?t(exports,require("antd-mobile"),require("react"),require("react-formutil")):"function"===typeof define&&define.amd?define(["exports","antd-mobile","react","react-formutil"],t):t((e=e||self).ReactAmFormutil={},e.AntdMobile,e.React,e.ReactFormutil)}(this,function(e,t,r,o){"use strict";var n="default"in r?r.default:r,a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends(e,t){function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}var c=function(){return(c=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function __rest(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var n=0;for(o=Object.getOwnPropertySymbols(e);n<o.length;n++)t.indexOf(o[n])<0&&(r[o[n]]=e[o[n]])}return r}var i=t.Checkbox.CheckboxItem,u=function(e){function CheckboxGroup(){return null!==e&&e.apply(this,arguments)||this}return __extends(CheckboxGroup,e),CheckboxGroup.prototype.render=function(){var e=this,t=this.props,r=t.onChange,o=t.value,a=t.onFocus,u=t.onBlur,l=t.data,s=__rest(t,["onChange","value","onFocus","onBlur","data"]),p=function(e,t){var n=t.target.checked;r(n?o.concat(e):o.filter(function(t){return t!==e}))};return l.map(function(t){return n.createElement(i,c({key:t.value},s,t,{checked:o.indexOf(t.value)>-1,children:t.title,onChange:p.bind(e,t.value),onFocus:a,onBlur:u}))})},CheckboxGroup.propTypes=void 0,CheckboxGroup.defaultProps={value:[]},CheckboxGroup}(r.Component),l=t.Radio.RadioItem,s=function(e){function RadioGroup(){return null!==e&&e.apply(this,arguments)||this}return __extends(RadioGroup,e),RadioGroup.prototype.render=function(){var e=this,t=this.props,r=t.onChange,o=t.value,a=t.onFocus,i=t.onBlur,u=t.data,s=__rest(t,["onChange","value","onFocus","onBlur","data"]),p=function(e){r(e)};return u.map(function(t){return n.createElement(l,c({key:t.value},s,t,{checked:o===t.value,children:t.title,onChange:p.bind(e,t.value),onFocus:a,onBlur:i}))})},RadioGroup.propTypes=void 0,RadioGroup}(r.Component),p=t.List.Item,d=1,f="Switch"!==t.Switch.name;var h=f?t.Checkbox:"Checkbox",m=f?t.Radio:"Radio",y=f?t.PickerView:"PickerView",b=f?t.DatePickerView:"DatePickerView",v=f?t.DatePicker:"DatePicker",k=f?t.Switch:"Switch",_=f?t.Range:"Range",C=f?t.Picker:"Picker",x=f?t.ImagePicker:"ImagePicker",g=f?t.InputItem:"InputItem",P=f?t.TextareaItem:"TextareaItem",I=f?t.Slider:"Slider",O=f?t.Checkbox.CheckboxItem:"CheckboxItem",R=f?t.Radio.RadioItem:"RadioItem",w=f?t.Checkbox.AgreeItem:"AgreeItem",E=f?u:"CheckboxGroup",F=f?s:"RadioGroup",j=function(e){function FormItem(){return null!==e&&e.apply(this,arguments)||this}return __extends(FormItem,e),FormItem.prototype.render=function(){var e=this.props,a=e,i=a.children,u=a.className,l=a.label,s=a.errorLevel,j=void 0===s?d:s,G=__rest(a,["children","className","label","errorLevel"]),T=r.Children.only(i),B=function(e){if(e){if("function"===typeof e.type){var t=e.type;return t.formutilType?t.formutilType:f?t:t.displayName||t.name}return e.props.type||e.type}}(T);switch(B){case h:case m:case k:case O:case R:case w:G.__TYPE__="checked";break;case"checked":case"array":case"object":case"number":case"empty":G.__TYPE__=B;break;default:G.__TYPE__="empty"}return n.createElement(o.EasyField,c({},G,{passUtil:"$fieldutil",children:function(o){var a,i,s,d,f=e.valuePropName,G=void 0===f?"value":f,N=e.changePropName,S=void 0===N?"onChange":N,$=e.focusPropName,A=void 0===$?"onFocus":$,D=e.blurPropName,L=void 0===D?"onBlur":D,V=o.$fieldutil,q=S,M=o[q],Y=A,U=o[Y],z=L,H=o[z],J=G,K=o[J],Q=__rest(o,["$fieldutil","symbol"===typeof q?q:q+"","symbol"===typeof Y?Y:Y+"","symbol"===typeof z?z:z+"","symbol"===typeof J?J:J+""]),W=V.$invalid,X=V.$dirty,Z=V.$touched,ee=V.$getFirstError,te=V.$focused;switch(B){case h:case m:case k:case O:case R:case w:case"checked":var re=e.checked,oe=void 0===re||re,ne=e.unchecked,ae=void 0!==ne&&ne;s={checked:K===oe,onChange:function(e){var t=e&&e.target?e.target.checked:e;M(t?oe:ae,e)}};break;case x:s={onChange:M,files:K};break;default:(a={})[S]=M,a[G]=K,s=a}switch(Object.assign(s,((i={})[A]=U,i[L]=H,i)),j){case 0:d=W&&X&&Z;break;case 1:d=W&&X;break;case 2:d=W;break;default:d=!1}var ce={invalid:W,valid:!W,dirty:X,pristine:!X,touched:Z,untouched:!Z,focused:te};Q.className=Object.keys(ce).filter(function(e){return ce[e]}).map(function(e){return"am-formutil-"+e}).concat(u).filter(Boolean).join(" ");var ie=d?{error:!0}:{};switch(B){case g:case P:ie.onErrorClick=function(){t.Modal.alert("Error info",ee())};case O:case R:case w:case _:case I:case y:case b:return r.cloneElement(T,c({},Q,ie,s,l?{title:l,children:l}:{}));case v:case C:return r.cloneElement(T,c({},s,{children:n.createElement(p,c({},Q,ie),l)}));case E:case F:return r.cloneElement(T,c({},Q,ie,s));default:var ue=r.cloneElement(T,s);return n.createElement(p,c({},Q,ie,l?{extra:ue,children:l}:{children:ue}))}}}))},FormItem.propTypes=void 0,FormItem}(r.Component);Object.keys(o).forEach(function(t){Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}),e.CheckboxGroup=u,e.FormItem=j,e.RadioGroup=s,e.setErrorLevel=function(e){d=e},Object.defineProperty(e,"__esModule",{value:!0})});
